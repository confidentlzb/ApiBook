##1. 接口简述
第三方机构调用还呗提供的接口，告知还呗用户信息（手机号、身份证、姓名），还呗根据用户信息，匹配用户，最终告知该用户可申请还呗的哪些产品，同时告知用户是否可走循环贷款简化流程。
##2. 调用场景
以下场景，第三方机构将调用还呗提供的接口判断用户是否可以申请还呗的产品。并在<font color=#DC143C >请求后缓存12H</font>。

* 当用户进入到产品列表页时.
* 用户进入到产品详情页时。
* 用户完成个人信息时。
* 用户完成个人信息和抓取认证项之后，进件之前。

##3. 接口要求

* https接口
* 接口采用post方式
* 数据组织采用json传递。
* 性能要求：2s，超过2s后判断为超时。超时后不会重试。
* 预估调用量：平均1-10次/每秒，最高每秒50次。
* 幂等性要求：重复请求，还呗需返回相同结果。（由于可能出现网络超时，我们没有收到还呗返回的结果，我们会重试，若您返回非200，会导致用户无法完成后续操作）


######<font color=#DC143C >建议：因为该接口超时，我们会认为用户无法申请该产品，影响接单。因此希望还呗及时响应，接口仅做判断是否可申请和复贷简化流程的操作，将其他可能涉及到的复杂操作异步处理。

##4. 接口定义
http://openapi.dev.lattebank.com/xxxchannel/access?r_c=XXX(渠道代码大写)
###4.1 请求说明
####4.1.1 

参数|名称|值类型|是否必填|备注
------------ | ------------- | ------------
md5|md5值|String|Y|手机号+身份证号拼接生成的md5
user_mobile|	手机号码|	String|	N|	用户输入的手机号码
idcard|	身份证号|	String|	N|	用户输入的身份证号
user_name|	用户姓名|	String|	Y|	姓名
product_id|	产品ID|	String|	N|	第三方标识还呗产品，对接时将会告知还呗
user_id| 第三方机构借款用户ID|  String|  Y|	

####4.1.2 请求示例
```
{
  "md5": "0ea6b6dc26f10f44841d4dc81bd9fb85",
  "user_mobile": "18066668888",
  "idcard": "141202200010061530",
  "user_name" : "第三方机构",
  "product_id" : 100001,
  "user_id" : "2640797174671850000f"
}
```
###4.2 响应说明
* code=400的时候表示用户不可以申请，此时需要返回不可申请的原因，具体参见不可申请用户
* code=200的时候表示用户可以申请   

####4.2.1 不可申请用户
#####4.2.1.1 参数含义
参数|名称|值类型|是否必填|备注
------------ | ------------- | ------------
status|准入状态|	Integer|	Y|不可准入状态是400
reason|不可申请原因|String|Y|code=400时可用。枚举值如下：<br>C003：30天内被还呗审批拒绝过<br>C004：手机号已在还呗App注册<br>C005：用户已在授信中

#####4.2.1.2 响应示例
```
{
  "code": 200,
  "message": "",
  “bizContent”: {
  	 "status":400,
    "reason": "C005"
  }  
}
```


#####4.2.2.1 准入成功参数定义

参数	|名称|	值类型|	是否必填|	备注
------------ | ------------- | ------------
status|准入状态|	Integer|	Y|准入成功状态是200
approval_amount|可申请最大额度/分|	Long|	Y|	单位：分<br>1.返回该用户可申请额度，比如某还呗可申请1000元 ，则返回100000；
approval_term|	可申请期限|	array(Integer)|	Y|	可申请的期限
term_unit|	期限单位|	Integer	|Y	|1：天，2：月





